"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{1379:function(e,t,a){var s=a(5893);a(7294),t.Z=function(e){let{text:t,openConfirmation:a}=e;return(0,s.jsx)("button",{onClick:a,className:"inline-flex py-2 px-10  items-center text-center shadow-sm shadow-black/40 border-2 border-red-900 text-lg font-bold text-cool-gray-200  bg-red-800 hover:bg-red-700 transition duration-200 rounded-lg",children:t})}},827:function(e,t,a){a.d(t,{Z:function(){return r}});var s=a(5893);function r(e){let{label:t,type:a,placeHolder:r,name:l,state:i,setState:o}=e;return console.log(i),(0,s.jsxs)("div",{className:"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-cool-gray-900 border-opacity-10",children:[(0,s.jsx)("div",{className:"w-full sm:w-1/3 px-4 mb-4 sm:mb-0",children:(0,s.jsx)("span",{className:"text-md font-medium text-cool-gray-500",children:t})}),(0,s.jsx)("div",{className:"w-full sm:w-2/3 px-4",children:(0,s.jsx)("div",{className:"max-w-xl",children:(0,s.jsx)("div",{className:"flex flex-wrap items-center -mx-3",children:(0,s.jsx)("div",{className:"w-full px-3 mb-3 sm:mb-0",children:(0,s.jsx)("input",{value:null!=i?i:"",name:l,className:"block text-md placeholder:text-gray-700 py-4 px-3 w-full text-sm text-cool-gray-200 placeholder-cool-gray-200 font-medium outline-none bg-transparent border border-raisin-black-lighter hover:border-cool-gray-900 focus-within:border-carolina-blue rounded-lg",type:a,placeholder:r,onChange:e=>o&&o(t=>({...t,[l]:e.target.value}))})})})})})]})}},2838:function(e,t,a){var s=a(5893);a(7294),t.Z=function(e){let{type:t,text:a,clickHandle:r}=e;return(0,s.jsx)("button",{type:t||"button",className:"inline-flex py-2 px-10  items-center text-center shadow-sm shadow-black/40 border-2 border-yinmn-blue-900 text-lg font-bold text-cool-gray-200 bg-yinmn-blue-500 hover:bg-yinmn-blue-200 transition duration-200 rounded-lg",onClick:r,children:a})}},1104:function(e,t,a){a.d(t,{Z:function(){return d}});var s=a(5893),r=a(4080),l=a(1479),i=a(7294),o=a(2838),n=function(e){let{type:t,text:a,clickHandle:r}=e;return(0,s.jsx)("button",{type:t||"button",className:"inline-flex py-2 px-10  items-center text-center shadow-sm shadow-black/40 border-2 border-raisin-black-lighter text-lg font-bold text-raisin-black-lighter bg-cool-gray-900 hover:bg-cool-gray-500 transition duration-200 rounded-lg",onClick:r,children:a})},d=function(e){let{text:t,isOpen:a,closeModal:d,deleteAction:c}=e;return(0,s.jsx)(r.u,{show:a,as:i.Fragment,children:(0,s.jsxs)(l.V,{as:"div",className:"relative z-20",onClose:d,children:[(0,s.jsx)(r.u.Child,{as:i.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,s.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,s.jsx)(r.u.Child,{as:i.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)(l.V.Panel,{className:"w-full max-w-lg text-center transform overflow-hidden rounded-2xl bg-raisin-black-light border-raisin-black-lighter border p-8  align-middle shadow-xl transition-all",children:[(0,s.jsxs)(l.V.Title,{as:"h3",className:"text-xl font-medium leading-6 text-cool-gray-200 ",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#ef4444",className:" h-14 mx-auto mb-3 shadow-sm",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),t]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Essa \xe9 uma a\xe7\xe3o irrevers\xedvel, de modo que uma vez realizada, n\xe3o poder\xe1 ser revertida."})}),(0,s.jsxs)("div",{className:"mt-6 space-x-5",children:[(0,s.jsx)(o.Z,{text:"Sim",clickHandle:c}),(0,s.jsx)(n,{text:"N\xe3o",clickHandle:d})]})]})})})})]})})}},8453:function(e,t,a){a.d(t,{Z:function(){return r}});var s=a(5893);function r(e){let{title:t,subtitle:a}=e;return(0,s.jsx)("div",{className:"px-8 pt-8 pb-2",children:(0,s.jsx)("div",{className:"pb-6 border-b border-cool-gray-900",children:(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between -mx-4",children:(0,s.jsxs)("div",{className:"w-full md:w-1/2 lg:w-auto px-4 mb-6 md:mb-0",children:[(0,s.jsx)("h4",{className:"text-3xl font-bold text-cool-gray-200 tracking-wide leading-6 mb-2",children:t}),(0,s.jsx)("p",{className:"text-md leading-5 text-cool-gray-500",children:a})]})})})})}},9814:function(e,t,a){a.d(t,{Z:function(){return f}});var s=a(5893),r=a(7294),l=a(827),i=a(6858),o=a(1163),n=a(8767),d=a(1104),c=a(2838),x=a(1379),m=a(1614),u=a(7690),p=function(e){let{title:t,options:a,state:r,placeholder:l,setState:i,name:o}=e;return(0,s.jsxs)("div",{className:"flex flex-wrap items-center -mx-4 pb-8 mb-8 border-b border-cool-gray-900 border-opacity-10",children:[(0,s.jsx)("div",{className:"w-full sm:w-1/3 px-4 mb-4 sm:mb-0",children:(0,s.jsx)("span",{className:"text-md font-medium text-cool-gray-500",children:t})}),(0,s.jsx)("div",{className:"w-full sm:w-2/3 px-4",children:(0,s.jsx)("div",{className:"max-w-xl",children:(0,s.jsxs)(u.Ph,{name:o,value:r,onValueChange:e=>i&&i(t=>({...t,[o]:e})),children:[(0,s.jsx)(u.i4,{className:"w-full text-cool-gray-200 border border-raisin-black-lighter",children:(0,s.jsx)(u.ki,{className:"",placeholder:l})}),(0,s.jsx)(u.Bw,{children:a&&a.map(e=>(0,s.jsx)(u.Ql,{value:e,children:e},e))})]})})})]})},f=function(e){let{user:t}=e,a=(0,o.useRouter)(),u=(0,m.Z)(),[f,h]=(0,r.useState)(!1),[b,g]=(0,r.useState)({id:(null==t?void 0:t.id)||void 0,name:(null==t?void 0:t.name)||"",email:(null==t?void 0:t.email)||"",phone:(null==t?void 0:t.phone)||"",address:(null==t?void 0:t.address)||"",cpf:(null==t?void 0:t.cpf)||"",type:(null==t?void 0:t.type)||"Psic\xf3logo",crp:(null==t?void 0:t.crp)||"",institution:(null==t?void 0:t.institution)||"",period:(null==t?void 0:t.period)||0,password:"",confirmPassword:"",userLink:(null==t?void 0:t.userLink)||""}),y=(0,n.useMutation)({mutationFn:i.Z.updateById,onSuccess:()=>{a.push("/usuarios?updated=true")}}),w=(0,n.useMutation)({mutationFn:i.Z.delete,onSuccess:()=>{a.push("/usuarios?deleted=true")}});async function j(e){if(e.preventDefault(),t)null==b||delete b.password,null==b||delete b.confirmPassword,y.mutate(b);else if(b.name){if(b.password){if(b.password!==b.confirmPassword)u("As senhas precisam ser iguais");else{let e=await i.Z.register(b);e&&a.push("/usuarios?saved=true")}}else u("\xc9 necess\xe1rio informar uma senha")}else u("\xc9 preciso informar ao menos o nome do paciente")}function v(){h(!1)}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{text:"Tem certeza que deseja apagar o usu\xe1rio?",isOpen:f,closeModal:v,deleteAction:function(){v(),w.mutate(null==t?void 0:t.id)}}),(0,s.jsx)("section",{className:"py-3 mt-3",children:(0,s.jsx)("div",{className:"container px-4 mx-auto",children:(0,s.jsxs)("div",{className:"p-10 bg-raisin-black rounded-lg",children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between -mx-4 mb-8 pb-6 border-b border-gray-400 border-opacity-20",children:(0,s.jsxs)("div",{className:"w-full sm:w-auto px-4 mb-6 sm:mb-0",children:[(0,s.jsx)("h4",{className:"text-2xl font-bold tracking-wide text-cool-gray-200 mb-1",children:"Informa\xe7\xf5es Pessoais"}),t?(0,s.jsx)("p",{className:"text-sm text-cool-gray-500",children:"Edite as informa\xe7\xf5s pessoais do usu\xe1rio acima."}):(0,s.jsx)("p",{className:"text-sm text-cool-gray-500",children:"Preencha as informa\xe7\xf5s pessoais do novo usu\xe1rio."})]})}),(0,s.jsxs)("form",{children:[(0,s.jsx)(l.Z,{state:b.name,setState:g,name:"name",label:"Nome",type:"text",placeHolder:"Digite o nome do novo usu\xe1rio..."}),(0,s.jsx)(l.Z,{state:b.email,setState:g,name:"email",label:"Email",type:"email",placeHolder:"Digite o email do novo usu\xe1rio..."}),(0,s.jsx)(l.Z,{state:b.phone,setState:g,name:"phone",label:"Telefone",type:"tel",placeHolder:"Digite o telefone do novo usu\xe1rio..."}),(0,s.jsx)(l.Z,{state:b.address,setState:g,name:"address",label:"Endere\xe7o",type:"text",placeHolder:"Digite o endere\xe7o do novo usu\xe1rio..."}),(0,s.jsx)(l.Z,{state:b.cpf,setState:g,name:"cpf",label:"CPF",type:"text",placeHolder:"Digite o CPF do novo usu\xe1rio..."}),(0,s.jsx)(p,{name:"type",placeholder:"Selecione o tipo de usu\xe1rio",title:"Tipo de usu\xe1rio",options:["Psic\xf3logo","Estagi\xe1rio"],state:b.type,setState:g}),"Psic\xf3logo"===b.type?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between -mx-4 mb-8 pb-6 mt-12 border-b border-gray-400 border-opacity-20",children:(0,s.jsxs)("div",{className:"w-full sm:w-auto px-4 mb-6 sm:mb-0",children:[(0,s.jsx)("h4",{className:"text-2xl font-bold tracking-wide text-cool-gray-200 mb-1",children:"Informa\xe7\xf5es Profissionais"}),(0,s.jsx)("p",{className:"text-sm text-cool-gray-500",children:"Preencha as informa\xe7\xf5s profissionais do novo usu\xe1rio."})]})}),(0,s.jsx)(l.Z,{state:b.crp,setState:g,name:"crp",label:"CRP",type:"text",placeHolder:"Digite o n\xfamero do CRP do novo usu\xe1rio..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between -mx-4 mb-8 pb-6 mt-12 border-b border-gray-400 border-opacity-20",children:(0,s.jsxs)("div",{className:"w-full sm:w-auto px-4 mb-6 sm:mb-0",children:[(0,s.jsx)("h4",{className:"text-2xl font-bold tracking-wide text-cool-gray-200 mb-1",children:"Informa\xe7\xf5es Institucionais"}),(0,s.jsx)("p",{className:"text-sm text-cool-gray-500",children:"Preencha as informa\xe7\xf5s acad\xeamicas do estagi\xe1rio."})]})}),(0,s.jsx)(l.Z,{state:b.institution,setState:g,name:"institution",label:"Institui\xe7\xe3o de Ensino",type:"text",placeHolder:"Digite o nome da institui\xe7\xe3o de ensino do novo usu\xe1rio..."}),(0,s.jsx)(l.Z,{state:String(b.period),setState:g,name:"period",label:"Per\xedodo",type:"number",placeHolder:"Digite o per\xedodo que o novo usu\xe1rio esta cursando..."})]}),t?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-between -mx-4 mb-8 pb-6 mt-12 border-b border-gray-400 border-opacity-20",children:(0,s.jsx)("div",{className:"w-full sm:w-auto px-4 mb-6 sm:mb-0",children:(0,s.jsx)("h4",{className:"text-2xl font-bold tracking-wide text-cool-gray-200 mb-1",children:"Senha"})})}),(0,s.jsx)(l.Z,{state:b.password,setState:g,name:"password",label:"Senha",type:"password",placeHolder:"Digite a senha do novo usu\xe1rio"}),(0,s.jsx)(l.Z,{state:b.confirmPassword,setState:g,name:"confirmPassword",label:"Repita a Senha",type:"password",placeHolder:"Repita a senha do novo usu\xe1rio"})]}),(0,s.jsxs)("div",{className:"text-right space-x-6",children:[(0,s.jsx)(c.Z,{text:"Salvar",clickHandle:j}),t?(0,s.jsx)(x.Z,{text:"Apagar Usu\xe1rio",openConfirmation:function(e){e.preventDefault(),h(!0)}}):null]})]})]})})})]})}},7690:function(e,t,a){a.d(t,{Bw:function(){return m},Ph:function(){return d},Ql:function(){return p},i4:function(){return x},ki:function(){return c}});var s=a(5893),r=a(7294),l=a(4124),i=a(4004),o=a(7259),n=a(6972);let d=l.fC;l.ZA;let c=l.B4,x=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(l.xz,{ref:t,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md  border focus-within:border-carolina-blue border-slate-200  bg-transparent px-3 py-2 text-sm  placeholder:text-slate-500 focus:outline-none  disabled:cursor-not-allowed disabled:opacity-50  dark:border-slate-800 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-800",a),...o,children:[r,(0,s.jsx)(l.JO,{asChild:!0,children:(0,s.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.xz.displayName;let m=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...o}=e;return(0,s.jsx)(l.h_,{children:(0,s.jsx)(l.VY,{ref:t,className:(0,n.cn)("relative z-50 min-w-[8rem]  overflow-hidden rounded-md border border-raisin-black-lighter bg-raisin-black-light text-cool-gray-500 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...o,children:(0,s.jsx)(l.l_,{className:(0,n.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});m.displayName=l.VY.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.__,{ref:t,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm  font-semibold",a),...r})});u.displayName=l.__.displayName;let p=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(l.ck,{ref:t,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-raisin-black-lighter focus:text-cool-gray-500 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.wU,{children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(l.eT,{children:r})]})});p.displayName=l.ck.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.Z0,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",a),...r})});f.displayName=l.Z0.displayName},9583:function(e,t,a){a.d(t,{Z:function(){return s}});class s{static createMany(e){return e.map(e=>{let{id:t,name:a,email:r,phone:l,address:i,cpf:o,type:n,crp:d,institution:c,period:x}=e;return new s(a,r,l,i,o,n,c,x,d,t)})}static createFormObject(e){let{id:t,name:a,email:r,phone:l,address:i,cpf:o,type:n,crp:d,institution:c,period:x}=e;return new s(a,r,l,i,o,n,c,x,d,t)}get userLink(){return"/usuarios/".concat(this.id)}get userEditLink(){return"/usuarios/editar/".concat(this.id)}constructor(e,t,a,s,r,l,i,o,n,d){this.name=e,this.email=t,this.phone=a,this.address=s,this.cpf=r,this.type=l,this.institution=i,this.period=o,this.crp=n,this.id=d}}},1614:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(5893),r=a(4106);function l(){let{toast:e}=(0,r.pm)();return function(t){e({title:(0,s.jsxs)("div",{className:"flex w-full space-x-3  justify-start items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#ef4444",className:" h-6 shadow-sm",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),(0,s.jsx)("h2",{className:" text-cool-gray-200",children:"Ocorreu um Erro!"})]}),description:(0,s.jsx)("p",{className:"text-cool-gray-500",children:t})})}}},6858:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(6154),r=a(9583);class l{static async register(e){let t=await s.Z.post("/api/register",e);return 200===t.status}static async getAll(){try{let e=await s.Z.get("/api/usuarios");return r.Z.createMany(e.data)}catch(e){console.log(e)}}static async getById(e){try{let t=await s.Z.get("/api/usuarios/".concat(e));return t.data}catch(e){console.log(e)}}static async updateById(e){try{let t=await s.Z.patch("/api/usuarios/".concat(e.id),e);return t.data}catch(e){console.log(e)}}static async delete(e){try{if(e){let t=await s.Z.delete("/api/usuarios/".concat(e));return t.data}}catch(e){console.log(e)}}}}}]);